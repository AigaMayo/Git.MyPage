<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>実験データリスト（先頭行・列固定）</title>
    <style>
        /* 表を囲むコンテナのスタイル */
        .table-container {
            position: relative;
            max-height: 500px; /* スクロール可能な高さを設定 */
            max-width: 100%;
            overflow: auto; /* 水平・垂直スクロールを有効にする */
        }
        /* 表の基本スタイル */
        table {
            table-layout: fixed; /* テーブル幅を固定 */
            width: max-content;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
            white-space: nowrap; /* テキストの折り返しを防ぐ */
        }
        /* 検索ボックスのスタイル */
        th input {
            width: 90%;
            box-sizing: border-box;
            margin-top: 5px;
        }
        /* 中央揃えのスタイル */
        th, 
        td:nth-of-type(1), /* File-name */
        td:nth-of-type(4), /* Vd1 */
        td:nth-of-type(5), /* Vd2 */
        td:nth-of-type(6), /* Vd3 */
        td:nth-of-type(7), /* Vd4 */
        td:nth-of-type(8), /* Vp1 */
        td:nth-of-type(9), /* Vp2 */
        td:nth-of-type(10), /* Vp3 */
        td:nth-of-type(11), /* Vp4 */
        td:nth-of-type(12), /* PLL_KP */
        td:nth-of-type(13), /* PLL_KI */
        td:nth-of-type(14), /* AGC_KP */
        td:nth-of-type(15), /* AGC_KI */
        td:nth-of-type(16), /* PID1_KP */
        td:nth-of-type(17), /* PID1_KI */
        td:nth-of-type(18), /* PID2_KP */
        td:nth-of-type(19), /* PID2_KI */
        td:nth-of-type(20), /* PID3_KP */
        td:nth-of-type(21), /* PID3_KI */
        td:nth-of-type(22), /* PID4_KP */
        td:nth-of-type(23) { /* PID4_KI */
            text-align: center;
        }
        
        /* 先頭行（ヘッダー）を固定するスタイル */
        thead th {
            position: sticky;
            top: 0;
            background-color: #f2f2f2;
            z-index: 20; /* 固定列よりも上に表示 */
        }
        
        /* 先頭列を固定するスタイル */
        th:first-child, td:first-child {
            position: sticky;
            left: 0;
            background-color: #f2f2f2;
            z-index: 10; /* ヘッダーよりは下に表示 */
        }
        /* 先頭のヘッダーセル（左上）を固定するスタイル */
        thead th:first-child {
            z-index: 30; /* 最前面に表示 */
        }
    </style>
</head>
<body>
    <h1>実験データリスト</h1>

    <div class="table-container">
        <table id="myTable">
            <thead>
                <tr>
                    <th>File-name<br><input type="text" onkeyup="filterTable(0)" placeholder="search..."></th>
                    <th>内容<br><input type="text" onkeyup="filterTable(1)" placeholder="search..."></th>
                    <th>Note<br><!--<input type="text" onkeyup="filterTable(2)" placeholder="検索..."></th>--->
                    <th>Vd1<br><input type="text" onkeyup="filterTable(3)" placeholder="search..."></th>
                    <th>Vd2<br><input type="text" onkeyup="filterTable(4)" placeholder="search..."></th>
                    <th>Vd3<br><input type="text" onkeyup="filterTable(5)" placeholder="search..."></th>
                    <th>Vd4<br><input type="text" onkeyup="filterTable(6)" placeholder="search..."></th>
                    <th>Vp1<br><input type="text" onkeyup="filterTable(7)" placeholder="search..."></th>
                    <th>Vp2<br><input type="text" onkeyup="filterTable(8)" placeholder="search..."></th>
                    <th>Vp3<br><input type="text" onkeyup="filterTable(9)" placeholder="search..."></th>
                    <th>Vp4<br><input type="text" onkeyup="filterTable(10)" placeholder="search..."></th>
                    <th>PLL_KP<br><input type="text" onkeyup="filterTable(11)" placeholder="search..."></th>
                    <th>PLL_KI<br><input type="text" onkeyup="filterTable(12)" placeholder="search..."></th>
                    <th>AGC_KP<br><input type="text" onkeyup="filterTable(13)" placeholder="search..."></th>
                    <th>AGC_KI<br><input type="text" onkeyup="filterTable(14)" placeholder="search..."></th>
                    <th>PID1_KP<br><input type="text" onkeyup="filterTable(15)" placeholder="search..."></th>
                    <th>PID1_KI<br><input type="text" onkeyup="filterTable(16)" placeholder="search..."></th>
                    <th>PID2_KP<br><input type="text" onkeyup="filterTable(17)" placeholder="search..."></th>
                    <th>PID2_KI<br><input type="text" onkeyup="filterTable(18)" placeholder="search..."></th>
                    <th>PID3_KP<br><input type="text" onkeyup="filterTable(19)" placeholder="search..."></th>
                    <th>PID3_KI<br><input type="text" onkeyup="filterTable(20)" placeholder="search..."></th>
                    <th>PID4_KP<br><input type="text" onkeyup="filterTable(21)" placeholder="search..."></th>
                    <th>PID4_KI<br><input type="text" onkeyup="filterTable(22)" placeholder="search..."></th>
                </tr>
            </thead>
            <tbody id="tableBody">
                </tbody>
        </table>
    </div>

    <script>
        const data = [
            {
                "file_name": "091325.7",
                "内容": "allan分散計測",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2530","Vp3": "13.723","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.21","PID1_KI": "0.1","PID2_KP": "0.21","PID2_KI": "0.1",
                "PID3_KP": "0.21","PID3_KI": "0.1","PID4_KP": "0.21","PID4_KI": "0.1"
            },
            {
                "file_name": "091325.5",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.28 d0.002","Vp3": "13.700-13.790 d0.003","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091325.4",
                "内容": "Vp2,3 Step CW",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.28 d0.002","Vp3": "13.700-13.790 d0.003","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091225.4",
                "内容": "allan分散計測",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.21","PID1_KI": "0.1","PID2_KP": "0.21","PID2_KI": "0.1",
                "PID3_KP": "0.21","PID3_KI": "0.1","PID4_KP": "0.21","PID4_KI": "0.1"
            },
            {
                "file_name": "091225.3",
                "内容": "allan分散計測",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.19","PID1_KI": "0.1","PID2_KP": "0.19","PID2_KI": "0.1",
                "PID3_KP": "0.19","PID3_KI": "0.1","PID4_KP": "0.19","PID4_KI": "0.1"
            },
            {
                "file_name": "091225.2",
                "内容": "allan分散計測",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.19","PID1_KI": "0.1","PID2_KP": "0.19","PID2_KI": "0.1",
                "PID3_KP": "0.19","PID3_KI": "0.1","PID4_KP": "0.19","PID4_KI": "0.1"
            },
            {
                "file_name": "091225.1",
                "内容": "allan分散計測",
                "備考": "ここに詳細な情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.19","PID1_KI": "0.1","PID2_KP": "0.19","PID2_KI": "0.1",
                "PID3_KP": "0.19","PID3_KI": "0.1","PID4_KP": "0.19","PID4_KI": "0.1"
            },
            {
                "file_name": "091125.4",
                "内容": "W/O制御のallan分散計測",
                "備考": "ここにW/O制御の詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091125.3",
                "内容": "allan分散計測",
                "備考": "ここにKP0.20の詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.2700","Vp3": "13.7720","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "0.20","PID1_KI": "0.1","PID2_KP": "0.20","PID2_KI": "0.1",
                "PID3_KP": "0.20","PID3_KI": "0.1","PID4_KP": "0.20","PID4_KI": "0.1"
            },
            {
                "file_name": "091125.2",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.26 d0.002","Vp3": "13.72-13.74 d0.002","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091125.1",
                "内容": "Vp2,3 Step CW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.26 d0.002","Vp3": "13.72-13.74 d0.002","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.d",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.26 d0.002","Vp3": "13.702-13.718 d0.002","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.c",
                "内容": "Vp2,3 Step CW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.24-5.26 d0.002","Vp3": "13.702-13.718 d0.002","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.b",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.21-5.27 d0.01","Vp3": "13.72-13.78 d0.01","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.a",
                "内容": "Vp2,3 Step CW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.21-5.27 d0.01","Vp3": "13.72-13.78 d0.01","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.9",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.21-5.27 d0.01","Vp3": "13.66-13.71 d0.01","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.7",
                "内容": "Vp2,3 Step CW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.21-5.27 d0.01","Vp3": "13.66-13.71 d0.01","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.5",
                "内容": "Vp2,3 Step CCW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.235-5.255 d0.001","Vp3": "13.704-13.706 d0.001","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            },
            {
                "file_name": "091025.3",
                "内容": "Vp2,3 Step CW",
                "備考": "ここにVp2,3 Stepの詳細情報を記載します。",
                "Vd1": "3.0000","Vd2": "3.0000","Vd3": "0.5","Vd4": "0.5",
                "Vp1": "0","Vp2": "5.235-5.255 d0.001","Vp3": "13.704-13.706 d0.001","Vp4": "0",
                "PLL_KP": "0.1","PLL_KI": "0.005","AGC_KP": "0.5","AGC_KI": "0.005",
                "PID1_KP": "-","PID1_KI": "-","PID2_KP": "-","PID2_KI": "-",
                "PID3_KP": "-","PID3_KI": "-","PID4_KP": "-","PID4_KI": "-"
            }
        ];

        // ページ読み込み時にテーブルをレンダリング
        document.addEventListener('DOMContentLoaded', () => {
            renderTable(data);
        });

        function renderTable(data) {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = ''; // 既存の行をクリア

            data.forEach(item => {
                const row = document.createElement('tr');
                const rowData = [
                    item.file_name,
                    item.内容,
                    `<a href="javascript:void(0);" onclick="showDetails('${item.備考}')">Details...</a>`,
                    item.Vd1,
                    item.Vd2,
                    item.Vd3,
                    item.Vd4,
                    item.Vp1,
                    item.Vp2,
                    item.Vp3,
                    item.Vp4,
                    item.PLL_KP,
                    item.PLL_KI,
                    item.AGC_KP,
                    item.AGC_KI,
                    item.PID1_KP,
                    item.PID1_KI,
                    item.PID2_KP,
                    item.PID2_KI,
                    item.PID3_KP,
                    item.PID3_KI,
                    item.PID4_KP,
                    item.PID4_KI
                ];

                rowData.forEach((cellData, index) => {
                    const cell = document.createElement('td');
                    cell.innerHTML = cellData;
                    // 先頭列にクラスを適用
                    if (index === 0) {
                        cell.classList.add('fixed-column');
                    }
                    row.appendChild(cell);
                });
                
                tableBody.appendChild(row);
            });
        }

        function filterTable(columnIndex) {
            var input, filter, table, tr, td, i, txtValue;
            var inputs = document.querySelectorAll('thead th input');
            input = inputs[columnIndex];
            filter = input.value.toUpperCase();
            table = document.getElementById("myTable");
            tr = table.getElementsByTagName("tr");

            for (i = 1; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[columnIndex];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        function showDetails(details) {
            var newWindow = window.open('', 'Details', 'width=600,height=400');
            newWindow.document.body.innerHTML = '<h2>Note</h2><p>' + details + '</p>';
        }
    </script>
</body>
</html>